var t,validArgs=function(){for(var t=[],e=PPx.Arguments;!e.atEnd();e.moveNext())t.push(e.value);return t},safeArgs=function(){for(var t=[],e=validArgs(),n=0,r=arguments.length;n<r;n++)t.push(_valueConverter(n<0||arguments.length<=n?undefined:arguments[n],e[n]));return t},_valueConverter=function(t,e){if(null==e||""===e)return null!=t?t:undefined;switch(typeof t){case"number":var n=Number(e);return isNaN(n)?t:n;case"boolean":return null!=e&&"false"!==e&&"0"!==e;default:return e}},isEmptyStr=function(t){return""===t},isEmptyObj=function(t){if(t===undefined)return!1;if(null===t)return!0;for(var e in t)return!1;return!0},isZero=function(t){return null!=t&&("0"===t||0===t)},pathSelf=function(){var t,e,n=PPx.ScriptName;return~n.indexOf("\\")?(t=extractFileName(n),e=PPx.Extract("%*name(DKN,"+n+")")):(t=n,e=PPx.Extract("%FDN")),{scriptName:t,parentDir:e.replace(/\\$/,"")}},extractFileName=function(t,e){return void 0===e&&(e="\\"),"\\"!==e&&"/"!==e&&(e="\\"),t.slice(t.lastIndexOf(e)+1)},hideTitlebar=function(t,e,n){isEmptyStr(t)&&(t=PPx.Extract("%*getcust(X_win:V)"));var r=isZero(t.indexOf("B0"));return r&&(n?PPx.Execute("*execute V"+e+",*layout title"):PPx.Execute("*setcust X_win:V=B1"+t.slice(2))),r?t:""},capturePPv=function(t,e,n){!e&&PPx.Execute("*launch -nostartmsg -hide -wait:idle %0ppvw.exe -bootid:"+t),PPx.Execute("*capturewindow V"+t+" -pane:~ -selectnoactive%:*wait 0,2"),PPx.Execute("*ppvoption sync "+t)},tempValue=function(t,e){var n=PPx.Extract("%*getcust("+t+")");return n===e?function(){}:(PPx.Execute("*setcust "+t+"="+e),function(){PPx.Execute("*setcust "+t+"="+n)})};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/,"")}),Array.prototype.removeEmpty||(Array.prototype.removeEmpty=function(){for(var t=[],e=0,n=this.length;e<n;e++){var r=this[e];null==r||""===r||r instanceof Array&&0===r.length||r instanceof Object&&isEmptyObj(r)||t.push(r)}return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new Error('Array.indexOf: "this" is null or not defined');var r=Object(this),u=r.length>>>0;if(0===u)return-1;var i=null!=e?e:0;if(Math.abs(i)===Infinity&&(i=0),i>=u)return-1;for(n=Math.max(i>=0?i:u-Math.abs(i),0);n<u;){if(n in r&&r[n]===t)return n;n++}return-1}),t=PPx.Extract("%*getcust(S_ppm#global:git)"),isEmptyStr(t);var e="workerPPv"+".stay.js",n=PPx.WindowIDName.slice(-1),main=function(){var t=safeArgs(!1,"","0",""),e=t[0],r=t[1],u=t[2],i=t[3],c=2===PPx.Pane.Count,o=PPx.SyncView;isZero(o)?syncView(e,r,u,c,i):1===o?PPx.SyncView=0:PPx.Execute("*closeppx V"+n)},syncView=function(t,r,u,i,c){var o=pathSelf().parentDir,a=!isEmptyStr(PPx.Extract("%NV"+n)),x="",s="",P="";if(t){var f=PPx.Extract("%*getcust(XV_tmod)");isZero(x)||(PPx.Execute("*setcust XV_tmod=0"),x=f)}if(i)P=hideTitlebar(r,n,a),s=PPx.Extract("%*getcust(_WinPos:V"+n+")"),u="0",capturePPv(n,a);else{if(!a){var l=tempValue("X_vpos","0");PPx.Execute("*launch -nostartmsg -hide -wait:idle %0ppvw.exe -bootid:"+n),l()}var p="*ppvoption sync "+n,v="*topmostwindow %NV"+n;PPx.Execute(p+"%:"+v+"%:*wait 0,2%:*focus %n")}PPx.Execute("*execute V"+n+",*script "+o+"\\"+e+","+u+","+x+","+P+',"'+s+'",'+c)};main();
