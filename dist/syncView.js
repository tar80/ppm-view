var t,validArgs=function(){for(var t=[],e=PPx.Arguments;!e.atEnd();e.moveNext())t.push(e.value);return t},safeArgs=function(){for(var t=[],e=validArgs(),r=0,n=arguments.length;r<n;r++)t.push(_valueConverter(r<0||arguments.length<=r?undefined:arguments[r],e[r]));return t},_valueConverter=function(t,e){if(null==e||""===e)return null!=t?t:undefined;switch(typeof t){case"number":var r=Number(e);return Number.isNaN(r)?t:r;case"boolean":return null!=e&&"false"!==e&&"0"!==e;default:return e}},isEmptyStr=function(t){return""===t},isEmptyObj=function(t){if(t===undefined)return!1;if(null===t)return!0;for(var e in t)return!1;return!0},isZero=function(t){return null!=t&&("0"===t||0===t)},pathSelf=function(){var t,e,r=PPx.ScriptName;return~r.indexOf("\\")?(t=extractFileName(r),e=PPx.Extract("%*name(DKN,"+r+")")):(t=r,e=PPx.Extract("%FDN")),{scriptName:t,parentDir:e.replace(/\\$/,"")}},extractFileName=function(t,e){return void 0===e&&(e="\\"),"\\"!==e&&"/"!==e&&(e="\\"),t.slice(t.lastIndexOf(e)+1)};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/,"")}),Array.prototype.removeEmpty||(Array.prototype.removeEmpty=function(){for(var t=[],e=0,r=this.length;e<r;e++){var n=this[e];null==n||""===n||n instanceof Array&&0===n.length||n instanceof Object&&isEmptyObj(n)||t.push(n)}return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var r;if(null==this)throw new Error('Array.indexOf: "this" is null or not defined');var n=Object(this),u=n.length>>>0;if(0===u)return-1;var i=null!=e?e:0;if(Math.abs(i)===Infinity&&(i=0),i>=u)return-1;for(r=Math.max(i>=0?i:u-Math.abs(i),0);r<u;){if(r in n&&n[r]===t)return r;r++}return-1}),t=PPx.Extract("%*getcust(S_ppm#global:git)"),isEmptyStr(t);var e="workerPPv"+".stay.js",r=pathSelf().parentDir,n=PPx.WindowIDName.slice(-1),main=function(){var t=safeArgs(!1,"","0"),e=t[0],r=t[1],u=t[2],i=2===PPx.Pane.Count,o=PPx.SyncView;isZero(o)?syncView(e,r,u,i):1===o?PPx.SyncView=0:PPx.Execute("*closeppx V"+n)},syncView=function(t,u,i,o){var a=!isEmptyStr(PPx.Extract("%NV"+n)),c="*ppvoption sync "+n,x="",s="",P="";if(t){var f=PPx.Extract("%*getcust(XV_tmod)");isZero(x)||(PPx.Execute("*setcust XV_tmod=0"),x=f)}if(o)P=_setXwin(u,n,a),i="0",a||(s=PPx.Extract("%*getcust(_WinPos:V"+n+")").replace(/,/g,";"),PPx.Execute("*run -nostartmsg -hide -wait:idle %0ppvw.exe -bootid:"+n)),PPx.Execute("*capturewindow V"+n+" -pane:~ -selectnoactive%:"+c);else{var l="*topmostwindow %NV"+n;if(a)PPx.Execute(l+"%:"+c);else{var p=PPx.Extract("%*getcust(X_vpos)");PPx.Execute("*customize X_vpos=0"),PPx.Execute("*run -nostartmsg -wait:idle %0ppvw.exe -bootid:"+n+" -k %("+l+"%)%:"+c+"%:"),PPx.Execute("*setcust X_vpos="+p)}}PPx.Execute("*execute V"+n+",*script "+r+"\\"+e+","+i+","+x+","+P+","+s+",DEBUG")},_setXwin=function(t,e,r){isEmptyStr(t)&&(t=PPx.Extract("%*getcust(X_win:V)"));var n=isZero(t.indexOf("B0"));return n&&(r?PPx.Execute("*execute V"+e+",*layout title"):PPx.Execute("*setcust X_win:V=B1"+t.slice(2))),n?t:""};main();
